<!DOCTYPE html>
<html style="height: 100%">
    <head>
        <meta charset="GBK">
    </head>
    <body style="height: 100%; margin: 0">
        <div id="container" style="height: 100%"></div>


        <script type="text/javascript" src="http://localhost:8080/Bookweb/js/echarts.min.js"></script>
        <script src="http://localhost:8080/Bookweb/js/jquery-3.6.0.js"></script>
        <script type="text/javascript">
            $(function () {
                $.ajax({
                    url: 'http://localhost:8080/Bookweb/genre/sortNumPie.do',
                    type: "post",
                    success: function (responseText) {
                        var dom = document.getElementById("container");
                        var myChart = echarts.init(dom);
                        var app = {};

                        var option;

                        option = {
                            title: {
                                text:"圆角环形图显示数据"
                            },
                            tooltip: {
                                trigger: 'item'
                            },
                            legend: {
                                top: '5%',
                                left: 'center'
                            },
                            series: [
                                {
                                    name: 'Access From',
                                    type: 'pie',
                                    radius: ['40%', '70%'],
                                    avoidLabelOverlap: false,
                                    itemStyle: {
                                        borderRadius: 10,
                                        borderColor: '#fff',
                                        borderWidth: 2
                                    },
                                    label: {
                                        show: false,
                                        position: 'center'
                                    },
                                    emphasis: {
                                        label: {
                                            show: true,
                                            fontSize: '40',
                                            fontWeight: 'bold'
                                        }
                                    },
                                    labelLine: {
                                        show: false
                                    },
                                    data: responseText
                                }
                            ]
                        };

                        if (option && typeof option === 'object') {
                            myChart.setOption(option);
                        }

                    }
                })
            })
        </script>
    </body>
</html>
    